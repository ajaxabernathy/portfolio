"use client";

import { useEffect, useRef } from "react";
import { gsap } from "gsap";
import { MotionPathPlugin } from "gsap/MotionPathPlugin";

gsap.registerPlugin(MotionPathPlugin);

const AGroup = ({ color }) => {
  const dotRef = useRef(null);
  const pathRef = useRef(null);

  useEffect(() => {
    if (!dotRef.current || !pathRef.current) return;

    gsap.to(dotRef.current, {
      motionPath: {
        path: pathRef.current,
        align: pathRef.current,
        alignOrigin: [0.5, 0.5],
        autoRotate: false,
      },
      duration: 20,
      repeat: -1,
      ease: "linear",
    });
  }, []);

  return (
    <svg
      viewBox="0 0 355 420"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="w-full h-auto"
      style={{ overflow: "visible" }}
    >
      <path
        d="M37.2996 340.82C30.5725 340.82 25.287 339.018 21.4429 335.414C17.5989 331.81 15.6768 327.606 15.6768 322.801C15.6768 317.996 17.5989 313.791 21.4429 310.188C25.287 306.584 30.5725 304.782 37.2996 304.782H104.33C111.057 304.782 116.343 306.584 120.187 310.188C124.031 313.791 125.953 317.996 125.953 322.801C125.953 327.606 124.031 331.81 120.187 335.414C116.343 339.018 111.057 340.82 104.33 340.82H37.2996ZM221.814 340.82C215.087 340.82 209.801 339.018 205.957 335.414C202.113 331.81 200.191 327.606 200.191 322.801C200.191 317.996 202.113 313.791 205.957 310.188C209.801 306.584 215.087 304.782 221.814 304.782H288.844C295.571 304.782 300.857 306.584 304.701 310.188C308.545 313.791 310.467 317.996 310.467 322.801C310.467 327.606 308.545 331.81 304.701 335.414C300.857 339.018 295.571 340.82 288.844 340.82H221.814ZM37.2996 294.691C30.5725 294.691 25.287 292.889 21.4429 289.286C17.5989 285.682 15.6768 281.477 15.6768 276.672C15.6768 271.867 17.5989 267.663 21.4429 264.059C25.287 260.455 30.5725 258.653 37.2996 258.653H104.33C111.057 258.653 116.343 260.455 120.187 264.059C124.031 267.663 125.953 271.867 125.953 276.672C125.953 281.477 124.031 285.682 120.187 289.286C116.343 292.889 111.057 294.691 104.33 294.691H37.2996ZM221.814 294.691C215.087 294.691 209.801 292.889 205.957 289.286C202.113 285.682 200.191 281.477 200.191 276.672C200.191 271.867 202.113 267.663 205.957 264.059C209.801 260.455 215.087 258.653 221.814 258.653H288.844C295.571 258.653 300.857 260.455 304.701 264.059C308.545 267.663 310.467 271.867 310.467 276.672C310.467 281.477 308.545 285.682 304.701 289.286C300.857 292.889 295.571 294.691 288.844 294.691H221.814ZM37.2996 248.563C30.5725 248.563 25.287 246.761 21.4429 243.157C17.5989 239.553 15.6768 235.349 15.6768 230.544C15.6768 225.739 17.5989 221.534 21.4429 217.931C25.287 214.327 30.5725 212.525 37.2996 212.525H104.33C111.057 212.525 116.343 214.327 120.187 217.931C124.031 221.534 125.953 225.739 125.953 230.544C125.953 235.349 124.031 239.553 120.187 243.157C116.343 246.761 111.057 248.563 104.33 248.563H37.2996ZM221.814 248.563C215.087 248.563 209.801 246.761 205.957 243.157C202.113 239.553 200.191 235.349 200.191 230.544C200.191 225.739 202.113 221.534 205.957 217.931C209.801 214.327 215.087 212.525 221.814 212.525H288.844C295.571 212.525 300.857 214.327 304.701 217.931C308.545 221.534 310.467 225.739 310.467 230.544C310.467 235.349 308.545 239.553 304.701 243.157C300.857 246.761 295.571 248.563 288.844 248.563H221.814ZM37.2996 202.434C30.5725 202.434 25.287 200.632 21.4429 197.029C17.5989 193.425 15.6768 189.22 15.6768 184.415C15.6768 179.61 17.5989 175.406 21.4429 171.802C25.287 168.198 30.5725 166.396 37.2996 166.396H288.844C295.571 166.396 300.857 168.198 304.701 171.802C308.545 175.406 310.467 179.61 310.467 184.415C310.467 189.22 308.545 193.425 304.701 197.029C300.857 200.632 295.571 202.434 288.844 202.434H37.2996ZM37.2996 156.306C30.5725 156.306 25.287 154.504 21.4429 150.9C17.5989 147.296 15.6768 143.092 15.6768 138.287C15.6768 133.482 17.5989 129.277 21.4429 125.673C25.287 122.07 30.5725 120.268 37.2996 120.268H104.33C111.057 120.268 116.343 122.07 120.187 125.673C124.031 129.277 125.953 133.482 125.953 138.287C125.953 143.092 124.031 147.296 120.187 150.9C116.343 154.504 111.057 156.306 104.33 156.306H37.2996ZM221.814 156.306C215.087 156.306 209.801 154.504 205.957 150.9C202.113 147.296 200.191 143.092 200.191 138.287C200.191 133.482 202.113 129.277 205.957 125.673C209.801 122.07 215.087 120.268 221.814 120.268H288.844C295.571 120.268 300.857 122.07 304.701 125.673C308.545 129.277 310.467 133.482 310.467 138.287C310.467 143.092 308.545 147.296 304.701 150.9C300.857 154.504 295.571 156.306 288.844 156.306H221.814ZM83.4282 110.177C76.7011 110.177 71.4155 108.375 67.5715 104.771C63.7274 101.168 61.8054 96.9632 61.8054 92.1582C61.8054 87.3531 63.7274 83.1487 67.5715 79.5449C71.4155 75.9411 76.7011 74.1392 83.4282 74.1392H242.716C249.443 74.1392 254.728 75.9411 258.573 79.5449C262.417 83.1487 264.339 87.3531 264.339 92.1582C264.339 96.9632 262.417 101.168 258.573 104.771C254.728 108.375 249.443 110.177 242.716 110.177H83.4282ZM129.557 64.0486C122.83 64.0486 117.544 62.2467 113.7 58.6429C109.856 55.0391 107.934 50.8347 107.934 46.0296C107.934 41.2245 109.856 37.0201 113.7 33.4163C117.544 29.8125 122.83 28.0106 129.557 28.0106H196.587C203.314 28.0106 208.6 29.8125 212.444 33.4163C216.288 37.0201 218.21 41.2245 218.21 46.0296C218.21 50.8347 216.288 55.0391 212.444 58.6429C208.6 62.2467 203.314 64.0486 196.587 64.0486H129.557Z"
        stroke="white"
        strokeWidth="1.96433"
      />
      <path
        d="M55.0393 367.848C38.2216 367.848 25.0077 363.404 15.3976 354.514C5.78748 345.625 0.982422 335.054 0.982422 322.801C0.982422 310.548 5.78748 299.977 15.3976 291.088C25.0077 282.198 38.2216 277.754 55.0393 277.754H84.5904C101.408 277.754 114.622 282.198 124.232 291.088C133.842 299.977 138.647 310.548 138.647 322.801C138.647 335.054 133.842 345.625 124.232 354.514C114.622 363.404 101.408 367.848 84.5904 367.848H55.0393ZM239.554 367.848C222.736 367.848 209.522 363.404 199.912 354.514C190.302 345.625 185.497 335.054 185.497 322.801C185.497 310.548 190.302 299.977 199.912 291.088C209.522 282.198 222.736 277.754 239.554 277.754H269.105C285.922 277.754 299.136 282.198 308.746 291.088C318.357 299.977 323.162 310.548 323.162 322.801C323.162 335.054 318.357 345.625 308.746 354.514C299.136 363.404 285.922 367.848 269.105 367.848H239.554ZM55.0393 321.72C38.2216 321.72 25.0077 317.275 15.3976 308.386C5.78748 299.496 0.982422 288.925 0.982422 276.672C0.982422 264.419 5.78748 253.848 15.3976 244.959C25.0077 236.07 38.2216 231.625 55.0393 231.625H84.5904C101.408 231.625 114.622 236.07 124.232 244.959C133.842 253.848 138.647 264.419 138.647 276.672C138.647 288.925 133.842 299.496 124.232 308.386C114.622 317.275 101.408 321.72 84.5904 321.72H55.0393ZM239.554 321.72C222.736 321.72 209.522 317.275 199.912 308.386C190.302 299.496 185.497 288.925 185.497 276.672C185.497 264.419 190.302 253.848 199.912 244.959C209.522 236.07 222.736 231.625 239.554 231.625H269.105C285.922 231.625 299.136 236.07 308.746 244.959C318.357 253.848 323.162 264.419 323.162 276.672C323.162 288.925 318.357 299.496 308.746 308.386C299.136 317.275 285.922 321.72 269.105 321.72H239.554ZM55.0393 275.591C38.2216 275.591 25.0077 271.147 15.3976 262.257C5.78748 253.368 0.982422 242.797 0.982422 230.544C0.982422 218.291 5.78748 207.72 15.3976 198.83C25.0077 189.941 38.2216 185.496 55.0393 185.496H84.5904C101.408 185.496 114.622 189.941 124.232 198.83C133.842 207.72 138.647 218.291 138.647 230.544C138.647 242.797 133.842 253.368 124.232 262.257C114.622 271.147 101.408 275.591 84.5904 275.591H55.0393ZM239.554 275.591C222.736 275.591 209.522 271.147 199.912 262.257C190.302 253.368 185.497 242.797 185.497 230.544C185.497 218.291 190.302 207.72 199.912 198.83C209.522 189.941 222.736 185.496 239.554 185.496H269.105C285.922 185.496 299.136 189.941 308.746 198.83C318.357 207.72 323.162 218.291 323.162 230.544C323.162 242.797 318.357 253.368 308.746 262.257C299.136 271.147 285.922 275.591 269.105 275.591H239.554ZM55.0393 229.463C38.2216 229.463 25.0077 225.018 15.3976 216.129C5.78748 207.239 0.982422 196.668 0.982422 184.415C0.982422 172.162 5.78748 161.591 15.3976 152.702C25.0077 143.813 38.2216 139.368 55.0393 139.368H269.105C285.922 139.368 299.136 143.813 308.746 152.702C318.357 161.591 323.162 172.162 323.162 184.415C323.162 196.668 318.357 207.239 308.746 216.129C299.136 225.018 285.922 229.463 269.105 229.463H55.0393ZM55.0393 183.334C38.2216 183.334 25.0077 178.889 15.3976 170C5.78748 161.111 0.982422 150.54 0.982422 138.287C0.982422 126.034 5.78748 115.463 15.3976 106.573C25.0077 97.684 38.2216 93.2393 55.0393 93.2393H84.5904C101.408 93.2393 114.622 97.684 124.232 106.573C133.842 115.463 138.647 126.034 138.647 138.287C138.647 150.54 133.842 161.111 124.232 170C114.622 178.889 101.408 183.334 84.5904 183.334H55.0393ZM239.554 183.334C222.736 183.334 209.522 178.889 199.912 170C190.302 161.111 185.497 150.54 185.497 138.287C185.497 126.034 190.302 115.463 199.912 106.573C209.522 97.684 222.736 93.2393 239.554 93.2393H269.105C285.922 93.2393 299.136 97.684 308.746 106.573C318.357 115.463 323.162 126.034 323.162 138.287C323.162 150.54 318.357 161.111 308.746 170C299.136 178.889 285.922 183.334 269.105 183.334H239.554ZM101.168 137.206C84.3502 137.206 71.1363 132.761 61.5262 123.872C51.916 114.982 47.111 104.411 47.111 92.1582C47.111 79.9053 51.916 69.3341 61.5262 60.4448C71.1363 51.5554 84.3502 47.1107 101.168 47.1107H222.976C239.794 47.1107 253.008 51.5554 262.618 60.4448C272.228 69.3341 277.033 79.9053 277.033 92.1582C277.033 104.411 272.228 114.982 262.618 123.872C253.008 132.761 239.794 137.206 222.976 137.206H101.168ZM147.296 91.077C130.479 91.077 117.265 86.6323 107.655 77.743C98.0446 68.8536 93.2395 58.2825 93.2395 46.0296C93.2395 33.7767 98.0446 23.2056 107.655 14.3162C117.265 5.42686 130.479 0.982178 147.296 0.982178H176.848C193.665 0.982178 206.879 5.42686 216.489 14.3162C226.099 23.2056 230.904 33.7767 230.904 46.0296C230.904 58.2825 226.099 68.8536 216.489 77.743C206.879 86.6323 193.665 91.077 176.848 91.077H147.296Z"
        stroke="white"
        strokeWidth="1.96433"
      />

      <path
        ref={pathRef}
        d="M194.454 297.415C196.114 295.285 198.004 293.235 200.124 291.275C201.464 290.035 202.874 288.875 204.364 287.805C213.504 281.215 225.324 277.925 239.814 277.925H269.394C286.234 277.925 299.454 282.375 309.084 291.275C318.704 300.175 323.514 310.755 323.514 323.025V323.155C323.514 335.425 318.704 346.005 309.084 354.905C299.464 363.805 286.234 368.255 269.394 368.255H239.814C222.984 368.255 209.744 363.795 200.124 354.905C190.514 346.005 185.694 335.425 185.694 323.155C185.694 314.645 188.014 306.945 192.644 300.065C188.014 293.175 185.694 285.485 185.694 276.975C185.694 268.465 188.014 260.765 192.644 253.885C188.014 246.995 185.694 239.305 185.694 230.795C185.694 230.425 185.724 230.065 185.724 229.715H269.394C286.224 229.715 299.464 225.255 309.084 216.365C312.084 213.585 314.624 210.635 316.694 207.525L316.564 207.695C321.194 200.805 323.514 193.115 323.514 184.605C323.514 176.095 321.194 168.405 316.564 161.515C321.194 154.625 323.514 146.935 323.514 138.425C323.514 126.155 318.704 115.575 309.084 106.675C301.024 99.225 290.424 94.905 277.304 93.695C277.324 93.215 277.344 92.735 277.344 92.255C277.344 79.985 272.534 69.405 262.914 60.505C254.854 53.055 244.254 48.735 231.134 47.525C231.154 47.045 231.174 46.565 231.174 46.085C231.174 33.815 226.364 23.235 216.744 14.335C207.124 5.43499 193.894 0.984985 177.054 0.984985H147.474C130.644 0.984985 117.404 5.43499 107.774 14.325C98.1544 23.215 93.3444 33.805 93.3444 46.075C93.3444 46.565 93.3644 47.035 93.3844 47.515C80.2644 48.725 69.6644 53.045 61.6044 60.505H61.5544C51.9344 69.395 47.1244 79.985 47.1244 92.255L47.1444 93.335H84.2944C101.124 93.335 114.364 97.795 123.984 106.685C133.594 115.575 138.414 126.165 138.414 138.435C138.414 150.705 133.604 161.285 123.984 170.185C114.364 179.085 101.134 183.535 84.2944 183.535H54.7144C37.8844 183.535 24.6444 179.075 15.0244 170.185C12.1744 167.545 9.74437 164.755 7.73438 161.825L7.93437 161.525C3.30437 168.415 0.984375 176.105 0.984375 184.615C0.984375 196.885 5.79438 207.465 15.4144 216.365C25.0344 225.265 38.2644 229.715 55.1044 229.715H138.774C138.774 230.075 138.804 230.435 138.804 230.795C138.804 239.305 136.484 246.995 131.854 253.885C136.484 260.775 138.804 268.465 138.804 276.975C138.804 285.485 136.484 293.175 131.854 300.065C136.484 306.955 138.804 314.645 138.804 323.155C138.804 335.425 133.994 346.005 124.374 354.905C114.754 363.805 101.524 368.255 84.6844 368.255H55.1044C38.2744 368.255 25.0344 363.795 15.4144 354.905C5.79438 346.005 0.984375 335.425 0.984375 323.155C0.984375 314.645 3.30437 306.945 7.93437 300.065C3.30437 293.175 0.984375 285.485 0.984375 276.975C0.984375 268.465 3.30437 260.765 7.93437 253.885C3.30437 246.995 0.984375 239.305 0.984375 230.795C0.984375 223.535 2.67438 216.855 6.05438 210.775"
        stroke="#FDF9DC"
        strokeWidth="1.97"
      />

      <circle
        ref={dotRef}
        r="5"
        fill={color}
        style={{
          filter: "drop-shadow(0 0 16px #72b3fd) drop-shadow(0 0 8px #72b3fd)",
        }}
      />
    </svg>
  );
};

export default AGroup;
